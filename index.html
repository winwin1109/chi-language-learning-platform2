<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è·æ¥­ä¸­æ–‡â€”æ•™å­¸è³‡æºåˆ†äº«å¹³å°</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #e67e22; /* 3003 ä¸»è‰² */
            --secondary-color: #2980b9; /* 3007 ä¸»è‰² */
            --bg-color: #f4f7f6;
            --book-bg: #fff;
            --guide-bg: #e8f6f3;
            --guide-border: #1abc9c;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--primary-color);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        header h1 {
            margin: 0;
            font-size: 2.2rem;
        }

        /* --- è¦–åœ–æ§åˆ¶ (View Control) --- */
        .view-section {
            display: none; /* é è¨­éš±è—æ‰€æœ‰è¦–åœ– */
            animation: fadeIn 0.5s ease-in-out;
        }

        .view-section.active {
            display: block; /* åŠ ä¸Š active class æ‰é¡¯ç¤º */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- 1. åœ–æ›¸é¤¨è¦–åœ– (Library View) --- */
        .library-container {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 20px;
            flex-wrap: wrap;
        }

        .course-book {
            width: 260px;
            height: 340px;
            background: #fff;
            border-radius: 10px 20px 20px 10px;
            box-shadow: 
                5px 5px 15px rgba(0,0,0,0.1),
                inset 10px 0 20px rgba(0,0,0,0.05); /* æ›¸è„Šé™°å½± */
            cursor: pointer;
            position: relative;
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            border-left: 15px solid; /* æ›¸è„Šé¡è‰² */
            padding: 20px;
        }

        /* å€‹åˆ¥æ›¸æœ¬é…è‰² */
        .book-3003 { border-left-color: var(--accent-color); }
        .book-3003::after { background: var(--accent-color); } /* è£é£¾ç·š */
        
        .book-3007 { border-left-color: var(--secondary-color); }
        .book-3007::after { background: var(--secondary-color); }

        .course-book:hover {
            transform: translateY(-10px) rotateY(-5deg);
            box-shadow: 10px 15px 25px rgba(0,0,0,0.2);
        }

        .book-cover-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #444;
            margin-bottom: 10px;
        }

        .book-cover-icon {
            font-size: 80px;
            margin: 20px 0;
        }

        .book-label {
            background: #eee;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #666;
        }

        /* --- 2. æ›¸æ¶è¦–åœ– (Shelf View) --- */
        .shelf-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }

        .shelf-title {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin: 0;
            display: flex;
            align-items: center;
        }
        
        .shelf-title::before {
            content: 'ğŸ“–';
            margin-right: 10px;
        }

        .back-btn {
            padding: 10px 20px;
            background-color: #95a5a6;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }

        .back-btn:hover {
            background-color: #7f8c8d;
        }

        .chest-container {
            display: flex;
            justify-content: center; /* æ”¹ç‚ºç½®ä¸­ */
            flex-wrap: wrap;
            gap: 30px;
            padding: 20px 0;
        }

        /* éŠæˆ²é …ç›®æ¨£å¼ */
        .chest-item {
            text-align: center;
            width: 220px;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
            background: #fff;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #eee;
            user-select: none;
        }

        .chest-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
            border-color: var(--accent-color);
        }

        .chest-title {
            background: var(--primary-color);
            color: white;
            padding: 8px 5px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-weight: bold;
            font-size: 1rem;
            min-height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chest-icon {
            font-size: 70px;
            line-height: 1.2;
            margin-bottom: 10px;
            transition: transform 0.3s;
        }
        
        .chest-item:hover .chest-icon {
            transform: scale(1.1);
        }

        /* --- é‡‘å¹£ç‰¹æ•ˆ --- */
        .coin-effect {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            pointer-events: none;
            z-index: 100;
            opacity: 0;
            animation: coinJump 0.8s ease-out forwards;
        }

        @keyframes coinJump {
            0% { opacity: 0; transform: translate(-50%, 0) scale(0.5); }
            20% { opacity: 1; transform: translate(-50%, -60px) scale(1.2); }
            100% { opacity: 0; transform: translate(-50%, -120px) scale(1); }
        }

        /* --- æ‰‹æ©ŸèªéŸ³è¨­å®šæŒ‡å— --- */
        .guide-section {
            background: var(--guide-bg);
            border: 2px dashed var(--guide-border);
            padding: 30px;
            border-radius: 15px;
            margin-top: auto; /* æ¨åˆ°åº•éƒ¨ */
        }

        .guide-section h2 {
            color: #16a085;
            text-align: center;
            margin-top: 0;
        }

        .guide-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }

        .guide-col {
            flex: 1;
            min-width: 300px;
        }

        .guide-col h3 {
            color: #2c3e50;
            border-bottom: 2px solid #1abc9c;
            padding-bottom: 5px;
            margin-bottom: 15px;
        }

        .guide-text ul { padding-left: 20px; }
        .guide-text li { margin-bottom: 10px; line-height: 1.6; }
        
        .lang-tag {
            background: #e0f2f1;
            color: #00897b;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 5px;
            font-size: 0.85em;
        }

        /* --- å½ˆè·³è¦–çª— (Modal) --- */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            width: 90%;
            max-width: 600px;
            border-radius: 15px;
            padding: 30px;
            position: relative;
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
            max-height: 90vh;
            overflow-y: auto;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 30px;
            cursor: pointer;
            color: #aaa;
        }

        .modal-header {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: bold;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
        }

        .modal-body h3 {
            color: var(--accent-color);
            font-size: 1.2rem;
            margin-top: 20px;
        }

        .goal-list {
            background: #f9f9f9;
            padding: 15px 20px 15px 30px;
            border-radius: 8px;
            line-height: 1.6;
        }

        .action-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 25px;
            gap: 15px;
        }

        .game-link-btn {
            background: var(--accent-color);
            color: white;
            padding: 12px 30px;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            transition: background 0.3s;
        }

        .game-link-btn:hover { background: #d35400; }

        .qr-display { text-align: center; margin-top: 10px; }
        .qr-display img { max-width: 150px; border: 1px solid #ddd; padding: 5px; background: white; }
        .qr-label { display: block; margin-top: 5px; color: #666; font-size: 0.9rem; }

        @media (max-width: 768px) {
            .chest-item { width: 100%; max-width: 300px; }
            header h1 { font-size: 1.5rem; }
            .shelf-header { flex-direction: column-reverse; gap: 10px; align-items: flex-start; }
            .back-btn { width: 100%; }
        }
    </style>
</head>
<body>

    <header>
        <h1>è·æ¥­ä¸­æ–‡â€”æ•™å­¸è³‡æºåˆ†äº«å¹³å°</h1>
    </header>

    <main>
        <section id="library-view" class="view-section active">
            <div class="library-container">
                <div class="course-book book-3003" onclick="openBook('3003')">
                    <div class="book-cover-title">LAN3003<br>é›»å­æ•™å­¸è³‡æº</div>
                    <div class="book-cover-icon">ğŸ’¼</div>
                    <div class="book-label">é»æ“Šæ‰“é–‹èª²ç¨‹</div>
                </div>
                
                <div class="course-book book-3007" onclick="openBook('3007')">
                    <div class="book-cover-title">LAN3007<br>é›»å­æ•™å­¸è³‡æº</div>
                    <div class="book-cover-icon">âš–ï¸</div>
                    <div class="book-label">é»æ“Šæ‰“é–‹èª²ç¨‹</div>
                </div>
            </div>
            
            <p style="text-align:center; color:#777; margin-top:30px;">è«‹é»é¸ä¸Šæ–¹æ›¸æœ¬ä»¥é€²å…¥ç›¸é—œèª²ç¨‹éŠæˆ²</p>
        </section>

        <section id="shelf-view" class="view-section">
            <div style="background: #fff; padding: 30px; border-radius: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.05);">
                <div class="shelf-header">
                    <h2 class="shelf-title" id="shelf-title-text">èª²ç¨‹è³‡æº</h2>
                    <button class="back-btn" onclick="showLibrary()">â¬… è¿”å›æ›¸æ«ƒ</button>
                </div>
                
                <div class="chest-container" id="game-container">
                    </div>
            </div>
        </section>

        <section class="guide-section">
            <h2>ğŸ“± æ‰‹æ©ŸèªéŸ³æ’­æ”¾è¨­å®šæŒ‡å— (é€šç”¨)</h2>
            <div class="guide-content">
                <div class="guide-col">
                    <h3>ğŸ iOS ç”¨æˆ¶</h3>
                    <div class="guide-text">
                        <ul>
                            <li><strong>è§£é™¤éœéŸ³æ¨¡å¼ï¼š</strong>è«‹å‹™å¿…æ’¥å‹•æ©Ÿèº«å´é‚Šé–‹é—œï¼Œç¢ºä¿<strong>ä¸é¡¯ç¤ºæ©˜è‰²</strong>ã€‚</li>
                            <li><strong>è¨­å®šèªéŸ³ï¼š</strong>è¨­å®š â†’ è¼”åŠ©ä½¿ç”¨ â†’ æœ—è®€å…§å®¹ â†’ è²éŸ³ â†’ ä¸­æ–‡ã€‚
                                <br><span class="lang-tag">æ™®é€šè©±</span>é¸ã€ŒChina mainlandï¼Taiwanã€ã€‚
                                <br><span class="lang-tag">å»£æ±è©±</span>é¸ã€ŒHong Kongã€ã€‚
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="guide-col">
                    <h3>ğŸ¤– Android ç”¨æˆ¶</h3>
                    <div class="guide-text">
                        <ul>
                            <li><strong>èª¿æ•´åª’é«”éŸ³é‡ï¼š</strong>ç¢ºä¿æ‹‰å¤§çš„æ˜¯ã€Œåª’é«”/éŸ³æ¨‚ã€éŸ³é‡ã€‚</li>
                            <li><strong>è¨­å®šèªéŸ³ (TTS)ï¼š</strong>è¨­å®š â†’ èªè¨€èˆ‡è¼¸å…¥ â†’ æ–‡å­—è½‰èªéŸ³ã€‚
                                <br><span class="lang-tag">æ™®é€šè©±</span>é¸ã€Œä¸­æ–‡ (æ™®é€šè©±)ã€ã€‚
                                <br><span class="lang-tag">å»£æ±è©±</span>é¸ã€Œç²µèª (é¦™æ¸¯)ã€ã€‚
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div class="modal-overlay" id="infoModal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div class="modal-header" id="modalTitle">æ¨™é¡Œ</div>
            <div class="modal-body">
                <h3>ğŸ¯ æ•™å­¸ç›®æ¨™</h3>
                <div id="modalGoals"></div>
                <div class="action-area">
                    <a href="#" target="_blank" id="modalLink" class="game-link-btn">ğŸ‘‰ é€²å…¥éŠæˆ²æ•™å­¸</a>
                    <div class="qr-display">
                        <img src="" alt="QR Code" id="modalQR">
                        <span class="qr-label">æƒæ QR Code é–‹å•Ÿ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. è³‡æ–™åº«è¨­å®š ---
        const resources = {
            1: {
                title: "é‡‘ç‰ŒéŠ·å”®ç‰¹è¨“ç­",
                icon: "ğŸ›¥ï¸",
                link: "https://winwin1109.github.io/3003-lt3-speaking/",
                qr: "P1.jpg",
                goals: `
                    <li><strong>éœ€æ±‚åˆ†æèˆ‡ç¯©é¸ï¼š</strong>è¨“ç·´å­¸ç”Ÿåœ¨é¢å°å®¢æˆ¶çš„ã€Œç¡¬æ€§æ¢ä»¶ã€æ™‚ï¼Œå¦‚ä½•å¿«é€Ÿæ’é™¤ä¸åˆé©çš„é¸é …ã€‚</li>
                    <li><strong>å¤šè§’åº¦æ¯”è¼ƒç­–ç•¥ï¼š</strong>å¼•å°å­¸ç”Ÿé‡å°ä¸åŒå®¢ç¾¤çš„éœ€æ±‚ï¼Œåˆ†æç”¢å“åœ¨ã€Œè¨­æ–½ã€æœå‹™ã€åƒ¹æ ¼ã€ä¸Šçš„å„ªå‹¢ã€‚</li>
                    <li><strong>å»ºæ§‹æ¨ä»‹é‚è¼¯ï¼š</strong>é€éã€ŒæŸ¥è©¢éœ€æ±‚ â¡ æ¯”è¼ƒå„ªåŠ£ â¡ æ­¸ç´æ¨ä»‹ã€ä¸‰æ­¥é©Ÿå»ºç«‹è«–è¿°ã€‚</li>
                `
            },
            2: {
                title: "ä»‹ç´¹æŠ€å·§å¤§å†’éšª",
                icon: "ğŸ—£ï¸",
                link: "https://winwin1109.github.io/lt1-describe/",
                qr: "P2.jpg",
                goals: `
                    <li><strong>æŒæ¡èªªæ˜çµæ§‹ï¼š</strong>å­¸ç¿’å¦‚ä½•æœ‰æ¢ç†åœ°ä»‹ç´¹äº‹ç‰©ï¼ˆæ¦‚æ‹¬â¡åˆ†é¡â¡åˆ†é …èªªæ˜ï¼‰ã€‚</li>
                    <li><strong>è±å¯Œé™³è¿°è©å½™ï¼š</strong>é€éã€Œç¥ç¥•é—œå¡ã€å­¸ç¿’é—œæ–¼å¤–è§€ã€æè³ªçš„ç²¾ç¢ºç”¨èªï¼Œä¸¦ç·´ç¿’ä¸åŒé–‹å ´ç™½ã€‚</li>
                `
            },
            3: {
                title: "æ¯”è¼ƒçš„åŠ›é‡",
                icon: "âš–ï¸",
                link: "https://winwin1109.github.io/3003-lt3-test1/",
                qr: "P3.jpg",
                goals: `
                    <li><strong>æŒæ¡æ¯”è¼ƒæŠ€å·§ï¼š</strong>å¼•å°å­¸ç”Ÿå…ˆæ¯”è¼ƒç›¸åŒï¼Œå†æ¯”è¼ƒä¸åŒï¼Œä¸¦åˆ†æå…©é …äº‹ç‰©çš„å„ªåŠ£å‹¢ã€‚</li>
                `
            },
            4: {
                title: "æºé€šå›è¦†éŠæˆ²",
                icon: "ğŸ“±",
                link: "https://winwin1109.github.io/3003-LT3-WHATSAPP/",
                qr: "P4.jpg",
                goals: `
                    <li><strong>å»ºç«‹å°ˆæ¥­æºé€šå½¢è±¡ï¼š</strong>å­¸ç¿’å¦‚ä½•ä»¥åˆé©çš„èªæ°£å’Œç”¨è©å›è¦†è¨Šæ¯ã€‚</li>
                    <li><strong>æƒ…å¢ƒæ‡‰å°èˆ‡åŒç†å¿ƒï¼š</strong>é‡å°å®¢æˆ¶æŠ•è¨´æˆ–ç·Šæ€¥è©¢å•ï¼Œç·´ç¿’çµ¦å‡ºå…·å‚™åŒç†å¿ƒçš„å›è¦†ã€‚</li>
                `
            },
            5: {
                title: "ç•Œé¡ŒéŠæˆ²",
                icon: "ğŸ¯",
                link: "https://winwin1109.github.io/3007-lt1-Topic-Analysis/",
                qr: "P5.jpg",
                goals: `
                    <li><strong>ç²¾æº–æ‹†è§£é¡Œç›®ï¼š</strong>å­¸ç¿’åˆ†æè¾¯é¡Œï¼Œå¿«é€Ÿè­˜åˆ¥ã€Œé—œéµå­—ã€èˆ‡ã€Œè¨è«–æ ¸å¿ƒã€ã€‚</li>
                    <li><strong>æŒæ¡å®šç¾©ç¯„ç–‡ï¼š</strong>ç·´ç¿’å°é‡è¦è©å½™é€²è¡Œå®šç¾©ï¼Œä»¥ç¢ºç«‹è¨è«–ç¯„åœã€‚</li>
                `
            },
            6: {
                title: "é‚è¼¯æ³•åº­",
                icon: "ğŸ›ï¸",
                link: "https://winwin1109.github.io/3007lt1-court/",
                qr: "P6.jpg",
                goals: `
                    <li><strong>è¾¨è­˜é‚è¼¯è¬¬èª¤ï¼š</strong>é€éæ³•åº­å¯©åˆ¤æƒ…å¢ƒï¼Œå¼•å°å­¸ç”Ÿèªè­˜ç«‹å ´ã€è«–é»èˆ‡è«–æ“šã€‚</li>
                `
            },
            7: {
                title: "è«–è­‰å¤§å¸«",
                icon: "ğŸ”",
                link: "https://winwin1109.github.io/3007-lt2-edvidence/",
                qr: "P7.jpg",
                goals: `
                    <li><strong>å€åˆ†è«–æ“šç¨®é¡ï¼š</strong>å­¸ç¿’åˆ†è¾¨ã€Œä¾‹è­‰æ³•ã€ã€ã€Œæ¼”ç¹¹æ³•ã€ã€ã€Œæ¯”è¼ƒæ³•ã€èˆ‡ã€Œæ­¸ç´æ³•ã€ã€‚</li>
                    <li><strong>æå‡è«–è­‰èªªæœåŠ›ï¼š</strong>ç·´ç¿’ç‚ºä¸åŒçš„è«–é»é¸æ“‡æœ€å¼·æœ‰åŠ›çš„è­‰æ“šã€‚</li>
                `
            },
            8: {
                title: "é¦–è¼ªç™¼è¨€ç·´ç¿’",
                icon: "ğŸ¤",
                link: "https://winwin1109.github.io/3007-Opening-Statement/",
                qr: "P8.jpg",
                goals: `
                    <li><strong>æŒæ¡é–‹å ´æ¶æ§‹ï¼š</strong>å­¸ç¿’ã€Œé¦–è¼ªç™¼è¨€ã€çš„çµæ§‹ã€‚</li>
                    <li><strong>æå‡æ¢ç†æ€§ï¼š</strong>è¨“ç·´åœ¨æœ‰é™æ™‚é–“å…§ï¼Œæ¸…æ™°ã€æœ‰å±¤æ¬¡åœ°é™³è¿°å·±æ–¹æ ¸å¿ƒä¸»å¼µã€‚</li>
                `
            }
        };

        // èª²ç¨‹å°æ‡‰çš„éŠæˆ² ID åˆ—è¡¨
        const courses = {
            '3003': {
                name: 'LAN3003 é›»å­æ•™å­¸è³‡æº',
                items: [2, 3, 4, 1], // é †åºï¼šä»‹ç´¹, æ¯”è¼ƒ, å›è¦†, é‡‘ç‰Œ
                color: '#e67e22'
            },
            '3007': {
                name: 'LAN3007 é›»å­æ•™å­¸è³‡æº',
                items: [5, 6, 7, 8], // é †åºï¼šç•Œé¡Œ, é‚è¼¯, è«–è­‰, é¦–è¼ª
                color: '#2980b9'
            }
        };

        // --- 2. è¦–åœ–åˆ‡æ›é‚è¼¯ ---
        function showLibrary() {
            document.getElementById('shelf-view').classList.remove('active');
            document.getElementById('library-view').classList.add('active');
            window.scrollTo(0, 0);
        }

        function openBook(courseId) {
            const course = courses[courseId];
            const container = document.getElementById('game-container');
            const title = document.getElementById('shelf-title-text');
            
            // è¨­å®šæ¨™é¡Œèˆ‡é¡è‰²
            title.innerText = course.name;
            title.style.color = course.color;

            // æ¸…ç©ºä¸¦é‡æ–°æ¸²æŸ“éŠæˆ²
            container.innerHTML = '';
            
            course.items.forEach(id => {
                const data = resources[id];
                const itemDiv = document.createElement('div');
                itemDiv.className = 'chest-item';
                // ç¶å®šé‡‘å¹£ç‰¹æ•ˆé»æ“Š
                itemDiv.onclick = (e) => triggerCoinEffect(e, id);
                itemDiv.innerHTML = `
                    <div class="chest-title" style="background:${course.color}">${data.title}</div>
                    <div class="chest-icon">${data.icon}</div>
                `;
                container.appendChild(itemDiv);
            });

            // åˆ‡æ›è¦–åœ–
            document.getElementById('library-view').classList.remove('active');
            document.getElementById('shelf-view').classList.add('active');
            window.scrollTo(0, 0);
        }

        // --- 3. é‡‘å¹£èˆ‡ Modal é‚è¼¯ ---
        function triggerCoinEffect(event, id) {
            const chest = event.currentTarget;
            const coin = document.createElement('div');
            coin.innerText = 'ğŸª™'; 
            coin.className = 'coin-effect';
            chest.appendChild(coin);

            setTimeout(() => { openModal(id); }, 400);
            setTimeout(() => { coin.remove(); }, 800);
        }

        const modal = document.getElementById('infoModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalGoals = document.getElementById('modalGoals');
        const modalLink = document.getElementById('modalLink');
        const modalQR = document.getElementById('modalQR');

        function openModal(id) {
            const data = resources[id];
            modalTitle.innerText = data.title;
            modalGoals.innerHTML = `<ul class="goal-list">${data.goals}</ul>`;
            modalLink.href = data.link;
            modalQR.src = data.qr;
            modalQR.alt = `QR Code for ${data.title}`;
            
            modalQR.onerror = function() {
                this.style.display = 'none';
                this.parentNode.querySelector('.qr-label').innerText = '(åœ–ç‰‡æœªæ‰¾åˆ°: ' + data.qr + ')';
            };
            modalQR.onload = function() {
                this.style.display = 'inline-block';
            };
            
            modal.style.display = 'flex';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>